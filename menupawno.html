<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Curso Pawno • 12 Etapas • SiqueiraX</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />

    <style>
      :root {
        --yellow: #f1c40f;
        --blue-500: #0868ed;
        --bg-dark: #0e1117;
      }
      *{margin:0;padding:0;box-sizing:border-box}
      body{
        font-family:'Poppins',Arial,sans-serif;
        background:url('https://i.imgur.com/eKjFtd1.png') no-repeat center/cover fixed;
        color:#eee;min-height:100vh;display:flex;flex-direction:column}
      main{
        width:100%;max-width:980px;margin:3rem auto 2rem;
        background:rgba(0,0,0,.85);padding:2.5rem 2rem 3rem;
        border-radius:1rem;box-shadow:0 12px 28px rgba(0,0,0,.8)}
      h1{text-align:center;font-size:clamp(2.2rem,4vw+1rem,3rem);margin-bottom:1.5rem;color:var(--yellow)}
      h2{color:var(--yellow);margin:2rem 0 .8rem}
      h3{color:#fff;margin:1.2rem 0 .4rem}
      section{line-height:1.6}
      pre{background:#1e1e1e;padding:1rem 1.2rem;border-radius:8px;overflow-x:auto;color:#a0d8f7;font-size:.95rem;box-shadow:0 0 10px #093e6f}
      code{font-family:'Courier New',monospace}
      .note{background:#333;border-left:6px solid var(--yellow);padding:.8rem 1rem;margin:1rem 0}
      ul{margin-left:1.5rem}
      footer{text-align:center;color:#ccc;font-size:.85rem;margin-bottom:1rem}
    </style>
  </head>
  <body>
    <main>
      <h1>Curso Pawno em 12 Etapas</h1>

      <!-- ETAPA 1 -->
      <section>
        <h2>1. Instalando Pawno & Configurando o Ambiente</h2>
        <p>Baixe o pacote <strong>SA‑MP Server</strong>, abra a pasta <code>pawno</code> e rode <code>pawno.exe</code>. Adicione a biblioteca <code>DOF2.inc</code> em <code>pawno/include</code> e o plugin <code>DOF2.dll/.so</code> em <code>plugins/</code>.</p>
        <pre><code>// server.cfg
plugins DOF2</code></pre>
      </section>

      <!-- ETAPA 2 -->
      <section>
        <h2>2. Estrutura Básica de um Gamemode</h2>
        <pre><code>#include &lt;a_samp&gt;
#include &lt;DOF2&gt;

main() {}

public OnGameModeInit() {
    print("Gamemode carregado!");
    return 1;
}</code></pre>
      </section>

      <!-- ETAPA 3 -->
      <section>
        <h2>3. Introdução ao DOF2</h2>
        <p>Funções principais:</p>
        <ul>
          <li><code>DOF2_CreateFile(path)</code></li>
          <li><code>DOF2_FileExists(path)</code></li>
          <li><code>DOF2_SetInt(path, chave, valor)</code> / <code>DOF2_GetInt()</code></li>
          <li><code>DOF2_SetString</code> / <code>DOF2_GetString</code></li>
          <li><code>DOF2_SetFloat</code> / <code>DOF2_GetFloat</code></li>
        </ul>
      </section>

      <!-- ETAPA 4 -->
      <section>
        <h2>4. Sistema de Login & Registro (com Sexo)</h2>
        <p>Diálogos simples para registro, login e escolha de sexo do player.</p>
        <pre><code>#define DIALOG_REG   1
#define DIALOG_LOGIN 2
#define DIALOG_SEXO  3

public OnPlayerConnect(playerid) {
    new nome[MAX_PLAYER_NAME], arquivo[64];
    GetPlayerName(playerid, nome, sizeof nome);
    format(arquivo, sizeof arquivo, "Contas/%s.ini", nome);

    if(DOF2_FileExists(arquivo)) {
        ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD,
            "Login", "Digite sua senha:", "Entrar", "Sair");
    } else {
        ShowPlayerDialog(playerid, DIALOG_REG, DIALOG_STYLE_PASSWORD,
            "Registro", "Crie uma senha:", "Registrar", "Sair");
    }
    return 1;
}

public OnDialogResponse(playerid, dialogid, response, listitem, inputtext[]) {
    new nome[MAX_PLAYER_NAME], arq[64];
    GetPlayerName(playerid, nome, sizeof nome);
    format(arq, sizeof arq, "Contas/%s.ini", nome);

    if(dialogid == DIALOG_REG && response) {
        DOF2_CreateFile(arq);
        DOF2_SetString(arq, "Senha", inputtext);

        // salva data e IP
        new ip[16];
        GetPlayerIp(playerid, ip, sizeof ip);
        DOF2_SetString(arq, "DataRegistro", "03/07/2025");
        DOF2_SetString(arq, "IP", ip);

        ShowPlayerDialog(playerid, DIALOG_SEXO, DIALOG_STYLE_LIST,
            "Sexo", "Masculino\nFeminino", "Selecionar", "");
    }
    else if(dialogid == DIALOG_LOGIN && response) {
        if(strcmp(DOF2_GetString(arq, "Senha"), inputtext, false)==0) {
            SendClientMessage(playerid, 0x00FF00FF, "Logado com sucesso!");
            CarregarConta(playerid);
        } else {
            SendClientMessage(playerid, 0xFF0000FF, "Senha incorreta.");
            Kick(playerid);
        }
    }
    else if(dialogid == DIALOG_SEXO && response) {
        DOF2_SetInt(arq, "Sexo", listitem==0?1:2);
        CriarConta(playerid);
        CarregarConta(playerid);
    }
    return 1;
}</code></pre>
      </section>

      <!-- ETAPA 5 -->
      <section>
        <h2>5. Criando Arquivo de Dados do Jogador</h2>
        <pre><code>stock CriarConta(playerid) {
    new nome[MAX_PLAYER_NAME], caminho[64];
    GetPlayerName(playerid, nome, sizeof nome);
    format(caminho, sizeof caminho, "Contas/%s.ini", nome);

    if(!DOF2_FileExists(caminho)) {
        DOF2_CreateFile(caminho);
        DOF2_SetInt(caminho, "Dinheiro", 5000);
        DOF2_SetInt(caminho, "Score", 0);
        DOF2_SetInt(caminho, "VIP", 0);
        // DataRegistro e Sexo já definidos no diálogo de registro
    }
}</code></pre>
      </section>

      <!-- ETAPA 6 -->
      <section>
        <h2>6. Carregando Dados & Posicionando Jogador</h2>
        <pre><code>stock CarregarConta(playerid) {
    new n[MAX_PLAYER_NAME], arq[64];
    GetPlayerName(playerid, n, sizeof n);
    format(arq, sizeof arq, "Contas/%s.ini", n);

    GivePlayerMoney(playerid, DOF2_GetInt(arq, "Dinheiro"));
    SetPlayerScore(playerid, DOF2_GetInt(arq, "Score"));

    // Skin conforme sexo
    SetPlayerSkin(playerid, DOF2_GetInt(arq, "Sexo") == 1 ? 23 : 12);

    // Posição salvo?
    if(DOF2_IsSet(arq, "PosX")) {
        SetPlayerPos(playerid,
            DOF2_GetFloat(arq, "PosX"),
            DOF2_GetFloat(arq, "PosY"),
            DOF2_GetFloat(arq, "PosZ"));
    }

    // Aviso de VIP restante
    if(TemVIP(playerid)) {
        new resto = DOF2_GetInt(arq, "VipExpira") - gettime();
        new dias = resto / (24*60*60);
        new msg[64];
        format(msg, sizeof msg, "Você é VIP! Dias restantes: %d", dias);
        SendClientMessage(playerid, 0xFFD700FF, msg);
    }
}</code></pre>
      </section>

      <!-- ETAPA 7 -->
      <section>
        <h2>7. Salvando Dados Essenciais + Posição</h2>
        <pre><code>stock SalvarConta(playerid) {
    new n[MAX_PLAYER_NAME], arq[64];
    GetPlayerName(playerid, n, sizeof n);
    format(arq, sizeof arq, "Contas/%s.ini", n);

    DOF2_SetInt(arq, "Dinheiro", GetPlayerMoney(playerid));
    DOF2_SetInt(arq, "Score", GetPlayerScore(playerid));

    new Float:x, Float:y, Float:z;
    GetPlayerPos(playerid, x, y, z);
    DOF2_SetFloat(arq, "PosX", x);
    DOF2_SetFloat(arq, "PosY", y);
    DOF2_SetFloat(arq, "PosZ", z);
}</code></pre>
      </section>

      <!-- ETAPA 8 -->
      <section>
        <h2>8. Sistema de Concessionária (Compra de Veículos)</h2>
        <pre><code>stock ComprarVeiculo(playerid, modelo) {
    new nome[MAX_PLAYER_NAME], caminho[64];
    GetPlayerName(playerid, nome, sizeof nome);
    new id = random(10000);
    format(caminho, sizeof caminho, "Veiculos/%s_%d.ini", nome, id);

    DOF2_CreateFile(caminho);
    DOF2_SetInt(caminho, "Modelo", modelo);
    DOF2_SetInt(caminho, "Cor1", 3);
    DOF2_SetInt(caminho, "Cor2", 6);
}</code></pre>
      </section>

      <!-- ETAPA 9 -->
      <section>
        <h2>9. Spawnando Veículos do Jogador</h2>
        <p>Recomendo o plugin <code>FileManager</code>, mas aqui um conceito:</p>
        <pre><code>// percorra arquivos em Veiculos/ e crie com CreateVehicle</code></pre>
      </section>

      <!-- ETAPA 10 -->
      <section>
        <h2>10. Sistema de VIP (30 dias) + Comando /darvip</h2>
        <pre><code>#define DIAS_VIP 30

stock DarVIP(playerid, dias) {
    new n[MAX_PLAYER_NAME], a[64];
    GetPlayerName(playerid, n, sizeof n);
    format(a, sizeof a, "Contas/%s.ini", n);
    DOF2_SetInt(a, "VipExpira", gettime() + dias*24*60*60);
}

CMD:darvip(adminid, params[]) {
    new id, dias;
    if(sscanf(params, "ii", id, dias)) return SendClientMessage(adminid, -1, "/darvip [player] [dias]");
    DarVIP(id, dias);
    SendClientMessage(id, 0xFFD700FF, "Você recebeu VIP!");
    return 1;
}

stock TemVIP(playerid) {
    new n[MAX_PLAYER_NAME], a[64];
    GetPlayerName(playerid, n, sizeof n);
    format(a, sizeof a, "Contas/%s.ini", n);
    return DOF2_GetInt(a, "VipExpira") > gettime();
}</code></pre>
      </section>

      <!-- ETAPA 11 -->
      <section>
        <h2>11. Comando /setsexo para editar Sexo</h2>
        <pre><code>CMD:setsexo(playerid, params[]) {
    if(!strlen(params)) return SendClientMessage(playerid, -1, "/setsexo [1=Masculino/2=Feminino]");
    new op = strval(params);
    if(op<1||op>2) return SendClientMessage(playerid,-1,"Valor inválido.");

    new n[MAX_PLAYER_NAME], a[64];
    GetPlayerName(playerid, n, sizeof n);
    format(a, sizeof a, "Contas/%s.ini", n);
    DOF2_SetInt(a, "Sexo", op);
    SendClientMessage(playerid, -1, "Sexo atualizado!");
    return 1;
}</code></pre>
      </section>

      <!-- ETAPA 12 -->
      <section>
        <h2>12. Boas Práticas & Debug</h2>
        <ul>
          <li>Sempre verifique <code>DOF2_FileExists</code> antes de ler.</li>
          <li>Use <code>print</code>/<code>printf</code> para depurar e localizar erros.</li>
          <li>Comente seu código e dê nomes consistentes.</li>
          <li>Faça backups periódicos dos arquivos <code>.ini</code>.</li>
        </ul>
      </section>
    </main>

    <footer>© 2025 SiqueiraX • Todos os direitos reservados</footer>
  </body>
</html>
